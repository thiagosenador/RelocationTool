{% extends "base.html" %}

{% block content %}

<h3>Users</h3>

<form method="GET" enctype="multipart/form-data">
    <div class="form-group">
        <label for="user">Users: </label>
        <select name="user" id="user" onchange="if (this.value) window.location.href = this.value;">
            {% for user in users %}
                {% if preferences == undefined %}
                    <option value="/ShowUserPreferences/{{user.UserName}}">{{user.UserName}}</option>
                {% else %}
                    {% if user.UserName == preferences[0].UserName %}
                    <option value="/ShowUserPreferences/{{user.UserName}}" selected="selected">{{user.UserName}}</option>
                    {% else %}
                    <option value="/ShowUserPreferences/{{user.UserName}}">{{user.UserName}}</option>
                    {% endif %}
                {% endif %}
            {% else %}
            <option value="No employee found">No employee found</option>
            {% endfor %}
        </select>
    </div>
    <div>
        <nav>
            <ul>
                {% for preference in preferences %}
                <li>Climate: {{preference.Preferences['Climate']}}</li>
                <li>Population: {{preference.Preferences['Population']}}</li>
                <li>International Education: {{preference.Preferences['InternationalEducation']}}</li>
                <br />
                {% endfor %}
            </ul>
        </nav>
    </div>
</form>

{% endblock %}